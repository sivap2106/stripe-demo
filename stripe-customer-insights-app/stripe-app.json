{
  "id": "com.example.customer-insights",
  "version": "1.0.0",
  "name": "Customer Insights Dashboard",
  "icon": "./public/icon.svg",
  "description": "Comprehensive customer analytics with LTV, payment patterns, and risk assessment",

  "permissions": [
    {
      "permission": "customer_read",
      "purpose": "Read customer data to calculate lifetime value and payment patterns"
    },
    {
      "permission": "payment_method_read",
      "purpose": "Analyze payment method usage and success rates"
    },
    {
      "permission": "charge_read",
      "purpose": "Calculate transaction history and revenue metrics"
    },
    {
      "permission": "subscription_read",
      "purpose": "Track subscription status and churn patterns"
    },
    {
      "permission": "invoice_read",
      "purpose": "Analyze billing patterns and payment behavior"
    }
  ],

  "ui_extension": {
    "views": [
      {
        "viewport": "stripe.dashboard.customer.detail",
        "component": "CustomerInsights"
      },
      {
        "viewport": "stripe.dashboard.customer.list",
        "component": "CustomerListInsights"
      }
    ],

    "content_security_policy": {
      "connect-src": "https://api.stripe.com",
      "img-src": "https: data:",
      "font-src": null
    }
  },

  "post_install_action": {
    "type": "external_page",
    "url": "https://docs.example.com/setup-guide"
  },

  "app_backend": {
    "webhooks": {
      "api_version": "2024-12-18",
      "events": [
        "customer.created",
        "customer.updated",
        "charge.succeeded",
        "charge.failed",
        "subscription.created",
        "subscription.deleted"
      ]
    }
  }
}
